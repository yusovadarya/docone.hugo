---
title: "Синтаксис asciidoc"
weight: 10
draft: false
lastmod:
# search related keywords
keywords: разметка, asciidoc
---

:toc:
:toclevels: 6
:fileModTime:
:experimental:
:imagesdir: \images\



=== Заголовки и названия

----
= Заголовок первого уровня - это заголовок раздела
== Заголовок второго уровня  = 'title'
=== Заголовок третьего уровня
==== Заголовок четвертого уровня
===== Заголовок пятого уровня
====== Заголовок шестого уровня
----

image::\images\2021-07-05_115349.png[Заголовки]

Название документа в PDF - это заголовок первого уровня.

Контент между заголовком первого и второго уровня называется преамбулой. В PDF
он будет написан другим стилем, например большим шрифтом (не проверяла).

Чтобы добавить название блоку нужно поставить точку (.) без пробела перед названием.
----
 .Название блока
----

=== Абзацы

Просто текст в несколько строк. Asciidoc по-умолчанию не учитывает перенос строки. Поэтому
если вы просто нажмете [Enter] и продолжите писать - в справке это будет один абзац.

*Как сделать перенос строки?*

*_1. Дважды нажать Enter_*
----
Написать одну строку [Enter]
[Enter]
Написать вторую строку
----
====
Написать одну строку

Написать вторую строку
====

*_2. Поставить [+]_*
----
Написать одну строку +
Написать вторую строку
----
====
Написать одну строку +
Написать вторую строку
====

*_3. Использовать опцию hardbreaks_*
----
[%hardbreaks]
Ruby is red.
Java is black.
----
====
[%hardbreaks]
Ruby is red.
Java is black.
====

*_4. Использовать атрибуты документа_*
----
= Line Break Doc Title
:hardbreaks:

Rubies are red,
Topazes are blue.
----

=== Как закомментировать текст

Для комментария одной строки нужно проставить `//` в начале строки. Например, строка
ниже этого текста не видна, т.к. закомментирована.
// часть текста не видна

Чтобы закомментировать блок текста, нужно поставить `////` перед и после текста.

----
////
Например, вот этот текст будет не виден на странице. Он может содержать какие
угодно элемент, включая макрос, ссылки и рисунки, но будет не виден.
////
----

=== Как добавить разделительную линию

Для добавления линии нужно поставить три апострофа `'''`

Например, так:

'''
Текст отделен горизонтальной линией.

Чтобы добавить разрыв страницы, нужно добавить `>>>`

Но это работает только в PDF

>>>

На сайте, что логично, не работает.


=== Начертание
----
bold *constrained* & **un**constrained
italic _constrained_ & __un__constrained
bold italic *_constrained_* & **__un__**constrained
monospace `constrained` & ``un``constrained
monospace bold `*constrained*` & ``**un**``constrained
monospace italic `_constrained_` & ``__un__``constrained
monospace bold italic `*_constrained_*` & ``**__un__**``constrained
----
bold *constrained* & **un**constrained

italic _constrained_ & __un__constrained

bold italic *_constrained_* & **__un__**constrained

monospace `constrained` & ``un``constrained

monospace bold `*constrained*` & ``**un**``constrained

monospace italic `_constrained_` & ``__un__``constrained

monospace bold italic `*_constrained_*` & ``**__un__**``constrained


*Чтобы стили не применялись, нужно начать строку с \ или \\:*
----
\*Stars* will appear as *Stars*, not as bold text.
\&sect; will appear as an entity, not the &sect; symbol.
\\__func__ will appear as __func__, not as emphasized text.
\{two-semicolons} will appear {two-semicolons}, not resolved as ;;.
----

\*Stars* will appear as *Stars*, not as bold text.

\&sect; will appear as an entity, not the &sect; symbol.

\\__func__ will appear as __func__, not as emphasized text.

\{two-semicolons} will appear {two-semicolons}, not resolved as ;;.

=== Списки

==== Маркированный список

Поставить * или - перед строкой.
----
* один
* два
* три
----

* один
* два
* три

Можно добавить название к списку:
----
.Название списка:
* один
* два
* три
----
.Название списка:
* один
* два
* три

Многоуровневый список:
----
.Название списка:
* Пункт 1
** Подпункт 1.1
*** Подподпункт 1.1.1
** Подпункт 1.2
* Пункт 2
----
.Название списка:
* Пункт 1
** Подпункт 1.1
*** Подподпункт 1.1.1
** Подпункт 1.2
* Пункт 2

==== Нумерованный список

Чтобы составить нумерованный список, нужно поставить точку и пробел (. ) в начале каждой строки:
----
. Шаг один
. Шаг два
. Шаг три
----
. Шаг один
. Шаг два
. Шаг три

Чтобы начать список не с 1, нужно прописать стартовый номер перед списком:
----
[start=4]
. Шаг один
. Шаг два
. Шаг три
----
[start=4]
. Шаг один
. Шаг два
. Шаг три

Можно добавить название (поставить точку без пробела к названию списка).

Можно расположить пункты в обратном порядке - добавить [%reversed] перед списком:
----
[%reversed]
.Выполните действия:
. Шаг три
. Шаг два
. Шаг один
----
[%reversed]
.Выполните действия:
. Шаг три
. Шаг два
. Шаг один

Для многоуровневого нумерованного списка - ставить несколько точек перед пунктом,
 в зависимости от уровня:
----
. Шаг один
.. Подшаг один
.. Подшаг два
... Подподшаг один
. Шаг два
----
. Шаг один
.. Подшаг один
.. Подшаг два
... Подподшаг один
. Шаг два

==== Нумеровано-маркированный список

----
.Смешанный список
. Linux
* Fedora
* Ubuntu
* Slackware
. BSD
* FreeBSD
* NetBSD
----

.Смешанный список
. Linux
* Fedora
* Ubuntu
* Slackware
. BSD
* FreeBSD
* NetBSD

==== Словари

Можно создать словарь, без использования таблиц. Используется разметка:
----
Слово:: Определение
----

Пользователь:: Лицо, которое использует программу
Администратор:: Пользователь, который помимо обычных прав имеет права на настроку, управление пользователями и пр.
Система:: Информационная система формирования документов по шаблону "Doc.one"

Чтобы расположить горизонтально, используем атрибут [horizontal]:

----
[horizontal]
Пользователь:: Лицо, которое использует программу
Администратор:: Пользователь, который помимо обычных прав имеет права на настроку, управление пользователями и пр.
Система:: Информационная система формирования документов по шаблону "Doc.one"
----

[horizontal]
Пользователь:: Лицо, которое использует программу
Администратор:: Пользователь, который помимо обычных прав имеет права на настроку, управление пользователями и пр.
Система:: Информационная система формирования документов по шаблону "Doc.one"

Словарь может содержать списки внутри себя.

==== Смешанный список

----
Operating Systems::
  Linux:::
    . Fedora
      * Desktop
    . Ubuntu
      * Desktop
      * Server
  BSD:::
    . FreeBSD
    . NetBSD
Cloud Providers::
  PaaS:::
    . OpenShift
    . CloudBees
  IaaS:::
    . Amazon EC2
    . Rackspace
----

Operating Systems::
  Linux:::
    . Fedora
      * Desktop
    . Ubuntu
      * Desktop
      * Server
  BSD:::
    . FreeBSD
    . NetBSD
Cloud Providers::
  PaaS:::
    . OpenShift
    . CloudBees
  IaaS:::
    . Amazon EC2
    . Rackspace

=== Счетчики
Счетчики используются для нумерации любых элементов в тексте. В начале нужно объявить счетчик, после чего он будет увеличи ваться при каждом упоминании.

Например:
----
* Таблица {counter:table}. Создание списков
* Таблица {counter:table}. Создание полей
* Таблица {counter:table}. Атрибуты полей
----
* Таблица {counter:table}. Создание списков
* Таблица {counter:table}. Создание полей
* Таблица {counter:table}. Атрибуты полей

.Рисунок {counter:picture}. Создание документа
image::\images\create_doc.gif[Создание документа,300,200]

=== Названия клавиш, кнопок и меню

.Названия клавиш
Очень клевый маркос позволяет зрительно выделить наименование клавиши клавиатуры в тексте. Прописывается так:
----
* kbd:[F11]
* kbd:[Ctrl+Shift+N]
----

Выглядит так:

* kbd:[F11]
* kbd:[Ctrl+Shift+N]

.Названия кнопок
Макрос позволяет выделить наименование кнопки. Прописывается так:
----
Нажмите кнопку btn:[Сохранить].
----
Выглядит так: Нажмите кнопку btn:[Сохранить].

.Меню
Макрос позволяет прописать путь до нужного раздела меню:
----
Для сохранения документа нажмите menu:Файл[Сохранить].

Выберите пункт меню menu:Карточки[Список > Клиент].
----

Для сохранения документа нажмите menu:Файл[Сохранить].

Выберите пункт меню menu:Карточки[Список > Клиент].

IMPORTANT: Чтобы макросы заработали, нужно добавить для страницы атрибут `:experimental:`


=== Рисунки

Большие рисунки (скриншоты и пр.) добавляем отдельным блоком. Сами рисунки
нужно хранить в папке \content\images

В тексте с новой строки прописываем макрос:
----
image::\images\create_doc.gif[Создание документа]
----

image::\images\create_doc.gif[Создание документа]

.Рисунку можно также прописать:
* якорь (id)
* название
* ссылку на внешний URL
* замещающий текст
* размеры
----
[#screen]
.Создание документа
[link=https://www.flickr.com/photos/javh/5448336655]
image::\images\create_doc.gif[Создание документа,300,200]
----
[#screen]
.Создание документа
[link=https://www.flickr.com/photos/javh/5448336655]
image::\images\create_doc.gif[Создание документа,300,200]

Если картинку нужно вставить внутрь текста, используем только одно двоеточие вместо двух после слова image:
----
Нажмите кнопку image:\images\buttons\create.jpg[Картинка в строке с текстом, title="Создать"] в
правом нижнем углу и выберите пункт *Документ*.
----
Нажмите кнопку image:\images\buttons\create.jpg[Картинка в строке с текстом, title="Создать"] в
правом нижнем углу и выберите пункт *Документ*.

NOTE: Значение атрибута title будет показано как тултип при наведении на рисунок.

=== Видео

AsciiDoc рекомендует включать видео, опубликованные на youtube или vimeo, так как
эти хостинги здорово оптимизируют их. Но можно и добавить в папку.

Стандартное добавление видео:
----
video::video_file.mp4[]
----

Можно добавить атрибуты для видео:
----
video::video_file.mp4[width=640,start=60,end=140,opts=autoplay]
----

Можно добавить подпись к видео:
----
.A walkthrough of the product
video::video_file.mp4[]
----

Добавление видео с youtube или vimeo:

----
video::rPQoq7ThGAU[youtube]

video::67480300[vimeo]
----

video::a6TzgifrO2M[youtube]

==== Атрибуты аудио и видео

.Атрибуты аудио

[cols="2,3,5a,2"]
|===
|Атрибут|Значение|Пример синтаксиса|Примечание

|options
|autoplay, loop, controls, nocontrols
|`audio::ocean_waves.mp3[options="autoplay,loop"]`
|controls - по умолчанию включено
|===

.Атрибуты видео
[cols="2,3,5a,2"]
|===
|Атрибут|Значение|Пример синтаксиса|Примечание

|title
|Наименование видео
|`.An ocean sunset`
|

|poster
|Ссылка на изображение, которое будет отображаться, пока пользователь не начал проигрывать видео
|`poster=sunset.jpg`
|Можно указать атрибуь без названия, поместив его на первое место в списке атрибутов. Также этим атрибутом можно определить видео на YouTube (youtube) или Vimeo (vimeo)

|width
|Размер по ширине в пикселах
|`width=640`
| Ширина также будет определена, если указать ее на второй позиции в списке

|height
|Размер по ширине в пикселах
|`height=480`
| Высота также будет определена, если указать ее на третьей позиции в списке

|options
|autoplay, loop, modest, nocontrols, nofullscreen
|`opts="autoplay,loop"`
|controls - по умолчанию включено

|start
|Время начала воспроизведения в секундах
|`start=30`
|

|end
|Время окончания воспроизведения в секундах
|`end=90`
|

|theme
|Тема плеера YouTube для воспроизведения
|`theme=light`
| Доступные значения - dark (по умолчанию) и light.

|lang
|Язык плеера YouTube.
|`lang=fr`
| Указывается языковой код из двух букв или полное наименование языка
|===

.Пример видео с кучей атрибутов
video::\video\sample-5s.mp4[width=640,height=480]

NOTE: У меня атрибуты заработали только для своего видео-файла, для видео с youtube ничего не работало.

=== Ссылки

==== Внешние ссылки

Asciidoctor автоматически распознает следующие схемы:

* http
* https
* ftp
* irc
* mailto
* email@email.com

Нужно просто вставить полный адрес в текст:
====
Справка по Doc.one доступна по адресу: https://helpcenter.doc.one/hc/ru
====

Чтобы текст не изменялся в ссылку, нужно поставить бекслеш перед адресом:
----
\https://helpcenter.doc.one/hc/ru
----
====
Справка по Doc.one доступна по адресу: \https://helpcenter.doc.one/hc/ru
====
Чтобы скрыть URL схему, нужно прописать свойство :hide-uri-scheme: под заголовком документа.

Можно скрыть текст ссылки заголовком. Для этого поместить заголовок после ссылки в квадратные
скобки:
----
Руководство пользователя https://helpcenter.doc.one/hc/ru[здесь]
----
====
Руководство пользователя https://helpcenter.doc.one/hc/ru[здесь]
====

==== Link макрос

Link макрос - более строгая модель оформления ссылки. Общая формула:

 link:url[optional link text, optional target attribute, optional role attribute]
----
Руководство пользователя https://helpcenter.doc.one/hc/ru[*здесь*^,role=green].
----
====
Руководство пользователя https://helpcenter.doc.one/hc/ru[*здесь*^,role=green].
====

==== Ссылки на прикрепленные файлы

*Ссылка на файл*:
----
link:protocol.json[Open the JSON file]
----
====
link:protocol.json[Open the JSON file]
====

*Ссылка на раздел в HTML файле*:
----
link:external.html#livereload[LiveReload]
----
====
link:external.html#livereload[LiveReload]
====

==== Перекрестные ссылки

Можно добавить ссылку на раздел или секцию документа - просто включить название раздела в <<>>:
----
Раздел <<Карусель>> содержит пример и код карусели.
----
====
Раздел <<Карусель>> содержит пример и код карусели.
====

Чтобы заменить текст ссылки, нужно написать его внутри кавычек через запятую после названия раздела:
----
Раздел <<Карусель, в конце страницы>> содержит пример и код карусели.
----
====
Раздел <<Карусель, в конце страницы>> содержит пример и код карусели.
====

==== Xref макрос

Для перекрестной ссылки можно также использовать макрос:
----
Посмотрите, как можно добавить карусель на ваш сайт xref:Карусель[тут].
----
====
Посмотрите, как можно добавить карусель на ваш сайт xref:Карусель[тут].
====

Таким же образом можно добавить ссылку на другой документ или его раздел:

.Ссылка в начало документа
----
Refer to <<document-b.adoc#,Document B>> for more information.
----
====
Refer to <<document-b.adoc#,Document B>> for more information.
====

.Ссылка в определенный раздел документа
----
Refer to <<document-b.adoc#section-b,Section B>> for more information.
----
====
Refer to <<document-b.adoc#section-b,Section B>> for more information.
====

==== Как оформить ссылки на другие страницы сайта Hugo

IMPORTANT: Это важно!

Вот так следует офоромлять ссылки на другие страницы сайта:
----
см. link:/ru/documents/02_folder[Название ссылки].
----
====
см. link:/ru/documents/02_folder[Название ссылки].
====

=== Блоки

Чтобы выделить текст на странице в отдельный блок, нужно добавить 4 символа в
строке выше и строке ниже текста.

==== Блок кода

Добавляем `----`

----
Какой-то текст, который не будет *форматирован*
----

==== Комментарий

Чтобы добавить комментарий, который не будет отображаться при публикации, используем
 знак `////`

----
////
Комментарий, который не виден на странице
////
----

==== Пример

Чтобы добавить пример, отделяем его `====`

====
Пример использования *форматирования*
====

==== Цитата, ответ, стих

Выделяем нижним подчеркиванием `____`

____
Цитата, ответ, стих
____

==== Сайдбар
----
****
Сайдбар позволяет добавить выделенный блок справа.
****
----

****
Сайдбар позволяет добавить выделенный блок справа.
****

Основной текст раздела будет отображаться слева от блока. Главное, не забыть
добавить, потому что весь контент будет обтекать этот блок справа.

Другие блоки можно посмотреть здесь: https://asciidoctor.org/docs/asciidoc-writers-guide/#delimited-blocks[Asciidoctor Docs].

==== Метаданные блока

К любому блоку можно добавить метаданные. В примере ниже добавлены все метаданные, какие можно.

----
.Gettysburg Address
[[gettysburg]]
[quote, Abraham Lincoln, Address delivered at the dedication of the Cemetery at Gettysburg]
____
Four score and seven years ago our fathers brought forth
on this continent a new nation...

Now we are engaged in a great civil war, testing whether
that nation, or any nation so conceived and so dedicated,
can long endure. ...
____
----

Вот данные, которые можно вытащить из блока:

* Название: Gettysburg Address
* ID: gettysburg
* Стиль: quote
* Автор: Abraham Lincoln
* Место: Address delivered at the dedication of the Cemetery at Gett

Вот как выглядит на странице:

.Gettysburg Address
[[gettysburg]]
[quote, Abraham Lincoln, Address delivered at the dedication of the Cemetery at Gettysburg]
____
Four score and seven years ago our fathers brought forth
on this continent a new nation...

Now we are engaged in a great civil war, testing whether
that nation, or any nation so conceived and so dedicated,
can long endure. ...
____

==== Атрибут разметки

Чтобы добавить подсветку синтаксиса блоку кода, нужно прописать атрибут над ним,
например `[source,ruby]`. Но у меня это не заработало. Нужно будет разобраться,
почему. Возможно из-за работы с hugo.

[source,ruby]
----
require 'asciidoctor'

puts Asciidoctor.convert_file 'mysample.adoc', to_file: false
----

=== Информационные блоки

==== ИБ, которые были прописаны в теме Dot-Hugo

{{< notice note >}}
  This is a simple note.
{{</ notice >}}

{{< notice tip >}}
  This is a simple tip.
{{</ notice >}}

{{< notice info >}}
  This is a simple info.
{{</ notice >}}

==== ИБ в разметке asciidoc (использовать нужно их)
----
WARNING: Блок "Внимание!"
NOTE: Блок с заметкой.
TIP: Блок с советом.
CAUTION: Блок "Осторожно!"
IMPORTANT: Блок с важной информацией
----

WARNING: Блок "Внимание!"

NOTE: Блок с заметкой. Основной тип блоков.

TIP: Блок с советом. Боoooooльшой большой большой большой большой большой большой большой совет.

CAUTION: Блок "Осторожно!" Лучше в справке использовать какой-то один тип блоков: Внимание или Осторожно.

IMPORTANT: Блок с важной информацией

=== Замаскированные блоки

Некоторые блоки можно обернуть в информационные блоки. В отличие от обычного
 информационного параграфа такой блок может содержать любой контент.

Например, замаскируем блок цитаты в инфо. Для этого добавим атрибут [NOTE] перед
 разметкой блока

----
[NOTE]
====
Это пример замаскированного инфоблока. В отличие от обычных ИБ этот блок может
содержать любой контент AsciiDoc.

Стиль может соответствовать любому ИБ:

* NOTE
* TIP
* WARNING
* CAUTION
* IMPORTANT
====
----

Получится следующий блок:

[NOTE]
====
Это пример замаскированного инфоблока. В отличие от обычных ИБ этот блок может
содержать любой контент AsciiDoc.

Стиль может соответствовать любому ИБ:

* NOTE
* TIP
* WARNING
* CAUTION
* IMPORTANT
====

=== Атрибут без блока

Иногда текст, который нужно добавить в блок, очень короткий. Поэтому неудобно
использовать блок. Вместо этого можно прописать атрибут с типом блока просто над
предложением.

Например:

----
[listing]
sudo dnf install asciidoc

[quote]
Never do today what you can put off 'til tomorrow.
----

Вот так это выглядит на странице:

[listing]
sudo dnf install asciidoc

[quote]
Never do today what you can put off 'til tomorrow.

////
=== Сквозной блок

Сквозной блок используют, когда нужно показать что-то в живом потоке, например,
сложный синтаксис, который Asciidoctor не может отобразить.

Предположим, нужно отразить на странице содержание GitHub:

++++
<script src="https://github.com/yusovadarya/docone.hugo/blob/main/themes/dot/assets/js/script.js"></script>
++++
////

=== Карусель

Разметка, как сделать карусель:

{{< tabs >}}
  {{< tab "first" >}}
   This is first tab
  {{</ tab >}}

  {{< tab "second" >}}
  this is second tab
  {{</ tab >}}

  {{< tab "third" >}}
  this is third tab
  {{</ tab >}}
{{</ tabs >}}

=== Таблицы

Пример простой таблицы:

----
[cols=2*]
|===
|Name
|Group

|Firefox
|Web Browser

|Ruby
|Programming Language

|TorqueBox
|Application Server
|===
----

[cols=2*]
|===
|Name
|Group

|Firefox
|Web Browser

|Ruby
|Programming Language

|TorqueBox
|Application Server
|===

Добавляем атрибуты перед таблицей ([атрибуты]):

* cols=2* - означает, что столбца два и они одинаковые
* options=header - делает первую строку заголовком
* cols="2,3,5" - прописали относительную ширину каждого столбца
* cols="2,3,5a" - + прописали, что в третьем столбце могут быть блоки (а).

Заголовки и количество счтолбцов можно также прописать вот так, тогда не
понадобится прописывать атрибуты:

----
|===
|Name |Group |Description
----

Пример:

[cols="2,3,5a"]
|===
|Name |Group |Description

|Firefox
|Web Browser
|Mozilla Firefox is an open-source web browser.
It's designed for:

* standards compliance
* performance and
* portability.

|Ruby
|Programming Language
|A programmer's best friend.
|===

NOTE: Можно обозначить, что отдельная ячейка содержит блок прямо в этой ячейке -
нужно прописать "а" в начале строки и добавить "|". Пример: a|Mozilla Firefox...

==== Таблица из csv

.Способ 1
Чтобы записать таблицу в формате csv нужно добавить атрибут format перед таблицей:

----
[%header,format=csv]
|===
Artist,Track,Genre
Baauer,Harlem Shake,Hip Hop
The Lumineers,Ho Hey,Folk Rock
|===
----

[%header,format=csv]
|===
Artist,Track,Genre
Baauer,Harlem Shake,Hip Hop
The Lumineers,Ho Hey,Folk Rock
|===

.Способ 2
Можно прямо вставить таблицу из csv, используя include::tracks.csv[] (тоже не получилось):

----
[%header,format=csv]
|===

|===
----

.Способ 3
Поставить "," вместо "|" перед блоком:

----
,===
a,b,c
,===
----
