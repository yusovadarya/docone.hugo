---
title: "Asciidoc"
weight: 20
draft: false
lastmod:
keywords: справка, help
---

:toc:
:toclevels: 6
:fileModTime:
:experimental:

=== Intro
*AsciiDoc* - один из легковестных языков разметки для написания текстовых документов,
наряду с Markdown и reStructuredText. В отличие от двух других, AsciiDoc - самый семантически
 сложный и богатый, так как задумывался для публикации исследовательских работ. Именно
 поэтому мы выбрали его: он позволяет добавлять в документ перекрестные ссылки, автоматическую
 нумерацию рисунков и видео на страницы справки и в PDF документы.

Документы формата AsciiDoc имеют расширение .adoc и могут быть форматированы в
HTML, PDF, EPUB. Используя сторонние утилиты (Pandoc), мы также можем форматировать
.adoc в .docx.

Сайт Asciidoctor: https://asciidoctor.org/

Справка по Asciidoc: https://docs.asciidoctor.org/asciidoc/latest/

=== Установка

. Открываем консоль и устанавливаем Ruby:
----
choco install ruby
----
. Устанавливаем Asciidoctor:
----
gem install asciidoctor
----

=== Как создать документ .adoc?

Просто создается текстовый файл в папке, далее в названии меняется расширение на .adoc.

=== Чем открыть документ .adoc?

Открыть можно любым редактором текста, как например:

* Sublime text
* Notepad ++
* Atom и пр.

=== Названия и атрибуты документа

Названия бывают:

* у документа
* у секции, раздела
* у блока

IMPORTANT: Информация актуальна только для создания PDF докумета, для создания сайта это не работает!

Для того чтобы назвать документ, нужно присвоить ему заголовок первого уровня:
----
= Заголовок
----
Под заголовком можно добавить автора и дату, а также атрибуты документа
 (пути к папкам с рисунками, повторяющийся текст, версию документа и пр.)

Пример:
----
= User Guide
Doc Writer <doc.writer@asciidoc.org>
2012-01-01
:appversion: 1.0.0
----

appversion здесь становится переменной, которую можно использовать далее в тексте. Например:
----
  Описание ниже актуально для версии приложения {appversion}.
----

.Другие атрибуты Asciidoc:
* *:toc:* - содержание
* *:imagesdir: ./images* - папка с рисунками. тогда в тексте можно будет прописывать
только название рисунка, но у меня это не сработало.
* *:iconsdir: ./icons* - папка с кнопками - аналогично
* *:stylesdir: ./styles* - папка с css
* *:scriptsdir: ./js* - папка с виджетами
* *:sectnums:* - присваивает номера разделам

Чтобы заблочить любой атрибут, достаточно поставить знак !, например: `:sectnums!:`

=== Атрибуты документа, которые мы используем

Пример страницы в .adoc:

----
---
title: "Новая справка"
weight: 10
draft: false
lastmod:
keywords: справка, help
---

:toc:
:toclevels: 6
:fileModTime:
:experimental:

=== Как мы пишем справку?

Мы используем стек Asciidoc - Hugo - Git - Pandoc для написания справки.

image::\images\2021-07-05_123412.png[Заголовки]
----

.Атрибуты документа Asciidoc:
* *:toc:* - этот аттрибут позволяет добавить содержание статьи на стрицу сайта в блок справа.
* *:toclevels:* - уровни заголовков, которые включаются в содержание. Этот же атрибут формируется в конфиге:
----
[markup]
[markup.tableOfContents]
  endLevel = 5
  ordered = false
  startLevel = 2
----
* *:fileModTime:* - это тот самый аттрибут, который позволяет автоматически
проставлять дату обновления в конце статьи.
* *:experimental:* - включает прикольные макросы по описанию кнопок, меню и пр. 

Атрибуты страницы Hugo (выше `---`) см. link:/ru/new/example/hugo[Hugo].
